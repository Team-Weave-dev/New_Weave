# ëŒ€ì‹œë³´ë“œ ìœ„ì ¯ ì‹œìŠ¤í…œ í˜„í™© ë¬¸ì„œ

> ì‘ì„±ì¼: 2025-09-15  
> ë²„ì „: V1.3.0

## ğŸ“Š ê°œìš”

WEAVE ëŒ€ì‹œë³´ë“œ ìœ„ì ¯ ì‹œìŠ¤í…œì€ ëª¨ë“ˆí™”ëœ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ë¡œ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë©°, ì‚¬ìš©ìê°€ ììœ ë¡­ê²Œ ë°°ì¹˜í•˜ê³  êµ¬ì„±í•  ìˆ˜ ìˆëŠ” 9ê°œì˜ ìœ„ì ¯ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ê¸°ìˆ  ìŠ¤íƒ
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS + CSS Variables
- **State Management**: Zustand
- **DnD Library**: @dnd-kit
- **Lazy Loading**: React.lazy() + Suspense

### í•µì‹¬ ë””ìì¸ íŒ¨í„´
1. **Registry Pattern**: ìœ„ì ¯ ë“±ë¡ ë° ê´€ë¦¬ë¥¼ ìœ„í•œ ì¤‘ì•™í™”ëœ ë ˆì§€ìŠ¤íŠ¸ë¦¬
2. **Lazy Loading Pattern**: ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ë™ì  ì»´í¬ë„ŒíŠ¸ ë¡œë”©
3. **Compound Component Pattern**: ìœ„ì ¯ ë˜í¼ì™€ ì»¨í…ì¸ ì˜ ë¶„ë¦¬
4. **Error Boundary Pattern**: ìœ„ì ¯ë³„ ë…ë¦½ì ì¸ ì—ëŸ¬ ì²˜ë¦¬

## ğŸ“¦ ê°œë°œëœ ìœ„ì ¯ ëª©ë¡

### 1. í”„ë¡œì íŠ¸ ê´€ë¦¬ ìœ„ì ¯

#### ğŸ“‹ í”„ë¡œì íŠ¸ ìš”ì•½ (ProjectSummaryWidget)
- **íƒ€ì…**: `project-summary`
- **ì¹´í…Œê³ ë¦¬**: project
- **ê¸°ëŠ¥**: ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸ í˜„í™©ì„ í•œëˆˆì— í‘œì‹œ
- **UI êµ¬ì„±**: 
  - í”„ë¡œì íŠ¸ ìˆ˜ í†µê³„
  - ì§„í–‰ë¥  í‘œì‹œ
  - ìµœê·¼ í”„ë¡œì íŠ¸ ëª©ë¡

#### âœ… ì‘ì—… ì¶”ì ê¸° (TaskTrackerWidget)
- **íƒ€ì…**: `task-tracker`
- **ì¹´í…Œê³ ë¦¬**: project
- **ê¸°ëŠ¥**: ì‘ì—… ì§„í–‰ ìƒí™© ì¶”ì  ë° ê´€ë¦¬
- **UI êµ¬ì„±**:
  - ì‘ì—… ìƒíƒœë³„ ë¶„ë¥˜
  - ì§„í–‰ë¥  ë°”
  - ë‹´ë‹¹ì í‘œì‹œ

### 2. ì„¸ë¬´ ê´€ë ¨ ìœ„ì ¯

#### ğŸ“… ì„¸ë¬´ ìº˜ë¦°ë” (TaxDeadlineWidget)
- **íƒ€ì…**: `tax-deadline`
- **ì¹´í…Œê³ ë¦¬**: tax
- **ê¸°ëŠ¥**: ì„¸ê¸ˆ ì‹ ê³  ë§ˆê°ì¼ ë° ì¼ì • ê´€ë¦¬
- **UI êµ¬ì„±**:
  - ë‹¤ê°€ì˜¤ëŠ” ì„¸ë¬´ ì¼ì •
  - D-Day í‘œì‹œ
  - ì¤‘ìš”ë„ ë ˆë²¨ í‘œì‹œ

#### ğŸ§® ì„¸ê¸ˆ ê³„ì‚°ê¸° (TaxCalculatorWidget)
- **íƒ€ì…**: `tax-calculator`
- **ì¹´í…Œê³ ë¦¬**: tax
- **ê¸°ëŠ¥**: ê°„í¸í•œ ì„¸ê¸ˆ ê³„ì‚° ë„êµ¬
- **UI êµ¬ì„±**:
  - ì…ë ¥ í¼
  - ì‹¤ì‹œê°„ ê³„ì‚° ê²°ê³¼
  - ì„¸ë¶€ ë‚´ì—­ í‘œì‹œ

### 3. ë¶„ì„ ë° ì§€í‘œ ìœ„ì ¯

#### ğŸ“Š ë§¤ì¶œ ì°¨íŠ¸ (RevenueChartWidget)
- **íƒ€ì…**: `revenue-chart`
- **ì¹´í…Œê³ ë¦¬**: analytics
- **ê¸°ëŠ¥**: ë§¤ì¶œ ë°ì´í„° ì‹œê°í™”
- **UI êµ¬ì„±**:
  - ë¼ì¸/ë°” ì°¨íŠ¸
  - ê¸°ê°„ ì„ íƒê¸°
  - íŠ¸ë Œë“œ í‘œì‹œ

#### ğŸ“ˆ KPI ì§€í‘œ (KPIWidget)
- **íƒ€ì…**: `kpi-metrics`
- **ì¹´í…Œê³ ë¦¬**: analytics
- **ê¸°ëŠ¥**: í•µì‹¬ ì„±ê³¼ ì§€í‘œ ëŒ€ì‹œë³´ë“œ
- **UI êµ¬ì„±**:
  - ë©”íŠ¸ë¦­ ì¹´ë“œ
  - ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„±ë¥ 
  - ì¦ê° í‘œì‹œ

### 4. ìƒì‚°ì„± ìœ„ì ¯

#### ğŸ“ í•  ì¼ ëª©ë¡ (TodoListWidget)
- **íƒ€ì…**: `todo-list`
- **ì¹´í…Œê³ ë¦¬**: productivity
- **ê¸°ëŠ¥**: ê°œì¸ í•  ì¼ ê´€ë¦¬
- **UI êµ¬ì„±**:
  - ì²´í¬ë¦¬ìŠ¤íŠ¸
  - ìš°ì„ ìˆœìœ„ í‘œì‹œ
  - ë§ˆê°ì¼ ì„¤ì •

#### ğŸ“† ìº˜ë¦°ë” (CalendarWidget)
- **íƒ€ì…**: `calendar`
- **ì¹´í…Œê³ ë¦¬**: productivity
- **ê¸°ëŠ¥**: ì¼ì • ë° ì´ë²¤íŠ¸ ê´€ë¦¬
- **UI êµ¬ì„±**:
  - ì›”ê°„ ë·°
  - ì´ë²¤íŠ¸ ëª©ë¡
  - ì¼ì • ì¶”ê°€/í¸ì§‘

#### ğŸ”” ìµœê·¼ í™œë™ (RecentActivityWidget)
- **íƒ€ì…**: `recent-activity`
- **ì¹´í…Œê³ ë¦¬**: productivity
- **ê¸°ëŠ¥**: ì‹œìŠ¤í…œ ë‚´ ìµœê·¼ í™œë™ ë¡œê·¸
- **UI êµ¬ì„±**:
  - íƒ€ì„ë¼ì¸ í˜•ì‹
  - í™œë™ ìœ í˜•ë³„ ì•„ì´ì½˜
  - íƒ€ì„ìŠ¤íƒ¬í”„

## ğŸ¨ ìœ„ì ¯ ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œ

### ì½”ì–´ ì»´í¬ë„ŒíŠ¸

```
src/components/dashboard/
â”œâ”€â”€ widgets/                 # ê°œë³„ ìœ„ì ¯ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ProjectSummaryWidget.tsx
â”‚   â”œâ”€â”€ TaskTrackerWidget.tsx
â”‚   â”œâ”€â”€ TaxDeadlineWidget.tsx
â”‚   â”œâ”€â”€ TaxCalculatorWidget.tsx
â”‚   â”œâ”€â”€ RevenueChartWidget.tsx
â”‚   â”œâ”€â”€ KPIWidget.tsx
â”‚   â”œâ”€â”€ TodoListWidget.tsx
â”‚   â”œâ”€â”€ CalendarWidget.tsx
â”‚   â”œâ”€â”€ RecentActivityWidget.tsx
â”‚   â”œâ”€â”€ LazyWidgets.tsx      # Lazy loading ë˜í¼
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ dnd/                     # ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê´€ë ¨
â”‚   â”œâ”€â”€ DndProvider.tsx
â”‚   â”œâ”€â”€ SortableWidget.tsx
â”‚   â”œâ”€â”€ DragPreview.tsx
â”‚   â””â”€â”€ customCollisionDetection.ts
â”œâ”€â”€ templates/               # í…œí”Œë¦¿ ì‹œìŠ¤í…œ
â”‚   â””â”€â”€ dashboardTemplates.ts
â””â”€â”€ [ê¸°íƒ€ ì§€ì› ì»´í¬ë„ŒíŠ¸]
```

### ì„œë¹„ìŠ¤ ë ˆì´ì–´

```
src/lib/dashboard/
â”œâ”€â”€ WidgetRegistry.ts        # ìœ„ì ¯ ë“±ë¡ ë° ê´€ë¦¬
â”œâ”€â”€ widgetTypeMapping.ts     # íƒ€ì… ë§¤í•‘ ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ initializeWidgets.ts     # ìœ„ì ¯ ì´ˆê¸°í™”
â”œâ”€â”€ layout-service.ts        # ë ˆì´ì•„ì›ƒ ê´€ë¦¬
â”œâ”€â”€ auto-save.ts            # ìë™ ì €ì¥ ê¸°ëŠ¥
â”œâ”€â”€ performance-utils.ts     # ì„±ëŠ¥ ìµœì í™”
â”œâ”€â”€ responsive-grid.ts       # ë°˜ì‘í˜• ê·¸ë¦¬ë“œ
â”œâ”€â”€ templateService.ts       # í…œí”Œë¦¿ ì„œë¹„ìŠ¤
â””â”€â”€ [ê¸°íƒ€ ìœ í‹¸ë¦¬í‹°]
```

## ğŸ”§ ì£¼ìš” ê¸°ëŠ¥

### 1. ìœ„ì ¯ ë ˆì§€ìŠ¤íŠ¸ë¦¬
- ì¤‘ì•™í™”ëœ ìœ„ì ¯ ë“±ë¡ ë° ê´€ë¦¬
- ì¹´í…Œê³ ë¦¬ë³„ ìœ„ì ¯ ë¶„ë¥˜
- ë™ì  ìœ„ì ¯ ë¡œë”© ì§€ì›
- ë©”íƒ€ë°ì´í„° ê´€ë¦¬

### 2. ë“œë˜ê·¸ ì•¤ ë“œë¡­
- @dnd-kit ê¸°ë°˜ êµ¬í˜„
- ì»¤ìŠ¤í…€ ì¶©ëŒ ê°ì§€ ì•Œê³ ë¦¬ì¦˜
- ì‹¤ì‹œê°„ ë“œë˜ê·¸ í”„ë¦¬ë·°
- ê·¸ë¦¬ë“œ ìŠ¤ëƒ… ê¸°ëŠ¥

### 3. í…œí”Œë¦¿ ì‹œìŠ¤í…œ
- ì‚¬ì „ ì •ì˜ëœ ë ˆì´ì•„ì›ƒ í…œí”Œë¦¿
- í…œí”Œë¦¿ ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸°
- ê³µìœ  ê°€ëŠ¥í•œ ë ˆì´ì•„ì›ƒ

### 4. ë°˜ì‘í˜• ë””ìì¸
- ë¸Œë ˆì´í¬í¬ì¸íŠ¸ë³„ ê·¸ë¦¬ë“œ ì¡°ì •
- ëª¨ë°”ì¼ ìµœì í™” ë·°
- ìœ„ì ¯ í¬ê¸° ìë™ ì¡°ì ˆ

### 5. ì„±ëŠ¥ ìµœì í™”
- Lazy Loadingìœ¼ë¡œ ì´ˆê¸° ë¡œë“œ ìµœì í™”
- ìœ„ì ¯ë³„ Error Boundary
- ë©”ëª¨ì´ì œì´ì…˜ ì ìš©
- Virtual Scrolling ì§€ì›

## ğŸ“‹ ìœ„ì ¯ íƒ€ì… ë§¤í•‘

### í•œê¸€ â†’ ì˜ë¬¸ íƒ€ì… ë§¤í•‘
```typescript
{
  'í”„ë¡œì íŠ¸ ìš”ì•½': 'project-summary',
  'ì‘ì—… ì¶”ì ê¸°': 'task-tracker',
  'ì„¸ë¬´ ìº˜ë¦°ë”': 'tax-deadline',
  'ì„¸ê¸ˆ ê³„ì‚°ê¸°': 'tax-calculator',
  'ë§¤ì¶œ ì°¨íŠ¸': 'revenue-chart',
  'KPI ì§€í‘œ': 'kpi-metrics',
  'í•  ì¼ ëª©ë¡': 'todo-list',
  'ìº˜ë¦°ë”': 'calendar',
  'ìµœê·¼ í™œë™': 'recent-activity',
  'ì»¤ìŠ¤í…€': 'custom'
}
```

## ğŸš€ êµ¬í˜„ ìƒíƒœ

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥
- 9ê°œ ìœ„ì ¯ ê¸°ë³¸ êµ¬í˜„
- ìœ„ì ¯ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì‹œìŠ¤í…œ
- ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê¸°ëŠ¥
- Lazy Loading êµ¬í˜„
- íƒ€ì… ë§¤í•‘ ì‹œìŠ¤í…œ
- Error Boundary êµ¬í˜„
- í…œí”Œë¦¿ ì‹œìŠ¤í…œ ê¸°ë³¸ êµ¬ì¡°

### ğŸ”„ ì§„í–‰ ì¤‘ì¸ ì‘ì—…
- Supabase ë°ì´í„° ì—°ë™
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥
- ìœ„ì ¯ ì„¤ì • íŒ¨ë„ ê³ ë„í™”
- ì»¤ìŠ¤í…€ ìœ„ì ¯ ë¹Œë”

### ğŸ“ í–¥í›„ ê³„íš
- ìœ„ì ¯ ë§ˆì¼“í”Œë ˆì´ìŠ¤
- AI ê¸°ë°˜ ìœ„ì ¯ ì¶”ì²œ
- ê³ ê¸‰ ë°ì´í„° ì‹œê°í™” ì˜µì…˜
- ìœ„ì ¯ ê°„ ë°ì´í„° ì—°ë™

## ğŸ› ï¸ ê°œë°œ ê°€ì´ë“œ

### ìƒˆ ìœ„ì ¯ ì¶”ê°€ ë°©ë²•

1. **ìœ„ì ¯ ì»´í¬ë„ŒíŠ¸ ìƒì„±**
```typescript
// src/components/dashboard/widgets/NewWidget.tsx
export function NewWidget({ id, config, isEditMode }: WidgetProps) {
  // ìœ„ì ¯ êµ¬í˜„
}
```

2. **ìœ„ì ¯ íƒ€ì… ì¶”ê°€**
```typescript
// src/lib/dashboard/widgetTypeMapping.ts
export type WidgetType = 
  | 'existing-types'
  | 'new-widget-type'
```

3. **ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë“±ë¡**
```typescript
// src/lib/dashboard/initializeWidgets.ts
WidgetRegistry.register(
  'new-widget-type',
  NewWidget,
  metadata,
  category
)
```

4. **Lazy Loading ì„¤ì •**
```typescript
// src/components/dashboard/widgets/LazyWidgets.tsx
export const NewWidget = lazy(() => 
  import('./NewWidget').then(module => ({
    default: module.NewWidget
  }))
)
```

## ğŸ“Š ì„±ëŠ¥ ì§€í‘œ

- **ì´ˆê¸° ë¡œë“œ ì‹œê°„**: ~2ì´ˆ (Lazy Loading ì ìš©)
- **ìœ„ì ¯ ì „í™˜ ì‹œê°„**: <100ms
- **ë“œë˜ê·¸ ì‘ë‹µ ì‹œê°„**: <16ms (60fps)
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: ìœ„ì ¯ë‹¹ í‰ê·  ~5MB

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- ìœ„ì ¯ë³„ ë…ë¦½ì ì¸ Error Boundaryë¡œ ê²©ë¦¬
- XSS ë°©ì§€ë¥¼ ìœ„í•œ ì…ë ¥ ê²€ì¦
- ë¯¼ê°í•œ ë°ì´í„°ëŠ” ì„œë²„ ì‚¬ì´ë“œ ì²˜ë¦¬
- ìœ„ì ¯ ì„¤ì • ê²€ì¦ ë¡œì§ êµ¬í˜„

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- [`dashboard-widget-system-design.md`](./dashboard-widget-system-design.md) - ì‹œìŠ¤í…œ ì„¤ê³„ ë¬¸ì„œ
- [`dashboard-widget-tasks.md`](./dashboard-widget-tasks.md) - ê°œë°œ íƒœìŠ¤í¬ ëª©ë¡
- [`RELEASE_NOTES.md`](../RELEASE_NOTES.md) - ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸

---

*ì´ ë¬¸ì„œëŠ” WEAVE ëŒ€ì‹œë³´ë“œ ìœ„ì ¯ ì‹œìŠ¤í…œì˜ í˜„ì¬ êµ¬í˜„ ìƒíƒœë¥¼ ë°˜ì˜í•©ë‹ˆë‹¤.*