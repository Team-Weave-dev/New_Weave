# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## ğŸŒ ì–¸ì–´ ì„¤ì •
**í•œêµ­ì–´ë¡œ ì˜ì‚¬ì†Œí†µí•˜ì„¸ìš”.**

## ğŸ“‹ TASK ê¸°ë°˜ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### í˜„ì¬ ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸
**ëŒ€ì‹œë³´ë“œ ìœ„ì ¯ í¸ì§‘ëª¨ë“œ ê°œì„ ** - [`docs/dashboard-widget-edit-mode-improvement-tasks.md`](./docs/dashboard-widget-edit-mode-improvement-tasks.md) ì°¸ì¡°

### TASK ì‘ì—… ê·œì¹™
1. **TASK ë¬¸ì„œ í™•ì¸**: `docs/dashboard-widget-edit-mode-improvement-tasks.md`ì˜ íƒœìŠ¤í¬ ëª©ë¡ ì°¸ì¡°  âš ï¸ **í˜„ì¬ ì‘ì—… ë¬¸ì„œ**
2. **ìˆœì°¨ì  ì§„í–‰**: Task ID ìˆœì„œëŒ€ë¡œ ì‘ì—… (COORD-001ë¶€í„° ì‹œì‘)
3. **ì™„ë£Œ í‘œì‹œ**: ê° íƒœìŠ¤í¬ ì™„ë£Œ ì‹œ ì²´í¬ë°•ìŠ¤ `[x]` í‘œì‹œ
4. **E2E í…ŒìŠ¤íŠ¸**: ê° íƒœìŠ¤í¬ ì™„ë£Œ í›„ Playwright MCPë¡œ E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰
5. **ë¹Œë“œ í…ŒìŠ¤íŠ¸**: E2E í…ŒìŠ¤íŠ¸ í†µê³¼ í›„ `npm run build` ì‹¤í–‰
6. **ìƒíƒœ ì—…ë°ì´íŠ¸**: Statusë¥¼ `TODO` â†’ `IN_PROGRESS` â†’ `DONE`ìœ¼ë¡œ ë³€ê²½

### íƒœìŠ¤í¬ ì™„ë£Œ ì‹œ ìë™ ì‹¤í–‰
```bash
# 1. íƒœìŠ¤í¬ ì²´í¬ë°•ìŠ¤ ì™„ë£Œ í‘œì‹œ
[ ] â†’ [x]

# 2. E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (Playwright MCP ì‚¬ìš©)
# - ê°œë°œ ì„œë²„ ì‹¤í–‰ ìƒíƒœì—ì„œ í…ŒìŠ¤íŠ¸
# - í˜ì´ì§€ ë¡œë“œ ë° ê¸°ëŠ¥ ë™ì‘ í™•ì¸
# - ì˜¤ë¥˜ ë°œê²¬ ì‹œ ì¦‰ì‹œ ìˆ˜ì •

# 3. ë¹Œë“œ í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰
npm run build

# 4. ë¹Œë“œ ì„±ê³µ ì‹œ ì»¤ë°‹
git add .
git commit -m "feat(dashboard): [íƒœìŠ¤í¬ID] ì™„ë£Œ"
```

## ğŸ” í…ŒìŠ¤íŠ¸ ê³„ì • ì •ë³´

### ë¡œê·¸ì¸ ì •ë³´
```
ID: test@example.com
PW: test123456
```
- E2E í…ŒìŠ¤íŠ¸ ì‹œ ì´ ê³„ì •ì„ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸
- ëŒ€ì‹œë³´ë“œ ë° ëª¨ë“  ê¸°ëŠ¥ì— ì ‘ê·¼ ê°€ëŠ¥

## ğŸš€ ê°œë°œ ëª…ë ¹ì–´

### í•„ìˆ˜ ëª…ë ¹ì–´
```bash
npm run dev        # ê°œë°œ ì„œë²„ ì‹œì‘ (í¬íŠ¸ 3001)
npm run build      # í”„ë¡œë•ì…˜ ë¹Œë“œ (íƒœìŠ¤í¬ ì™„ë£Œë§ˆë‹¤ ìë™ ì‹¤í–‰)
npm run lint       # ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
npm run type-check # TypeScript íƒ€ì… ê²€ì‚¬
```

## ğŸ—ï¸ í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜

### ê¸°ìˆ  ìŠ¤íƒ
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS + CSS Variables
- **State Management**: Zustand
- **Database**: Supabase (PostgreSQL)
- **AI Integration**: OpenAI API
- **UI Components**: ì¤‘ì•™í™”ëœ ë””ìì¸ ì‹œìŠ¤í…œ

### í•µì‹¬ ë””ë ‰í† ë¦¬
```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # API Routes
â”‚   â”œâ”€â”€ dashboard/         # ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
â”‚   â””â”€â”€ (auth)/           # ì¸ì¦ ê´€ë ¨ í˜ì´ì§€
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/               # ì¤‘ì•™í™”ëœ ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”œâ”€â”€ Typography.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ dashboard/        # ëŒ€ì‹œë³´ë“œ ìœ„ì ¯ ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ widgets/      # ê°œë³„ ìœ„ì ¯ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ templates/    # í…œí”Œë¦¿ ì‹œìŠ¤í…œ
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ layout/           # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ dashboard/        # ëŒ€ì‹œë³´ë“œ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ stores/          # Zustand ìŠ¤í† ì–´
â”‚   â””â”€â”€ theme/           # í…Œë§ˆ ë° ë””ìì¸ í† í°
â””â”€â”€ styles/              # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
```

### ì•„í‚¤í…ì²˜ íŒ¨í„´
1. **ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜**: Atomic Design ì›ì¹™ ì ìš©
2. **ìƒíƒœ ê´€ë¦¬**: Zustandë¥¼ í†µí•œ ì¤‘ì•™í™”ëœ ìƒíƒœ ê´€ë¦¬
3. **ë°ì´í„° íë¦„**: 
   - Client â†’ API Routes â†’ Supabase (ë³µì¡í•œ ë¡œì§)
   - Client â†’ Supabase RLS (ë‹¨ìˆœ CRUD)
4. **ìœ„ì ¯ ì‹œìŠ¤í…œ**: Registry Pattern + Lazy Loading
5. **ë””ìì¸ ì‹œìŠ¤í…œ**: CSS Variables + Tailwind ìœ í‹¸ë¦¬í‹°

## ğŸ“ ë¦´ë¦¬ì¦ˆë…¸íŠ¸ ì‘ì„± ê·œì¹™

### ë³€ê²½ì‚¬í•­ ê¸°ë¡
- **ìœ„ì¹˜**: `RELEASE_NOTES.md` íŒŒì¼
- **ì‹œì **: ì¤‘ìš”í•œ ë³€ê²½ì‚¬í•­ ë°œìƒ ì¦‰ì‹œ
- **í˜•ì‹**: ë²„ì „ëª…, ë³€ê²½ ë‚´ìš©, ì´ìŠˆ í•´ê²° ë‚´ì—­

### ë²„ì „ ì²´ê³„
- **ë°°í¬ ë²„ì „**: `V{Major}.{Minor}.{Patch}_{YYMMDD}` (ì¼ë°˜ ì‘ì—…)
- **ê°œë°œ ë²„ì „**: `V{Major}.{Minor}.{Patch}_{YYMMDD}_REV{ìˆœì°¨ë²ˆí˜¸}` (ì‚¬ìš©ì ìš”ì²­ ì‹œ)

## ğŸ¨ WEAVE ì‹œìŠ¤í…œ ë””ìì¸ ì •ì±…

### ğŸ¯ í•µì‹¬ ì›ì¹™

#### 1. ì¤‘ì•™í™” (Centralization)
- **ë‹¨ì¼ ì§„ì‹¤ì˜ ì›ì²œ(Single Source of Truth)**
- **ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ìš°ì„ **
- **ì¤‘ë³µ ì½”ë“œ ì œê±°**

#### 2. ì‹œìŠ¤í…œí™” (Systematization)
- **ì¼ê´€ëœ íŒ¨í„´ ì ìš©**
- **ì˜ˆì¸¡ ê°€ëŠ¥í•œ êµ¬ì¡°**
- **ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬**

#### 3. í‘œì¤€ ì¤€ìˆ˜ (Standards Compliance)
- **ê¸°ì¡´ UI ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© í•„ìˆ˜**
- **ê¸€ë¡œë²Œ CSS ë³€ìˆ˜ í™œìš©**
- **Tailwind ë””ìì¸ ì‹œìŠ¤í…œ ì¤€ìˆ˜**

#### 4. í…Œë§ˆ ì •ì±… (Theme Policy)
- **ë¼ì´íŠ¸ëª¨ë“œ ì „ìš© ê°œë°œ**
- **ë‹¤í¬ëª¨ë“œ ì½”ë“œ ì‘ì„± ê¸ˆì§€**
- **ëª¨ë“  ìŠ¤íƒ€ì¼ë§ì€ ë¼ì´íŠ¸ëª¨ë“œ ê¸°ì¤€ìœ¼ë¡œë§Œ ì‘ì„±**
- **dark: í”„ë¦¬í”½ìŠ¤ ì‚¬ìš© ê¸ˆì§€**

### UI ì»´í¬ë„ŒíŠ¸ ê·œì¹™
- **ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ìš°ì„  ì‚¬ìš©**: `src/components/ui/` í™•ì¸
- **Typography ì‚¬ìš©**: HTML íƒœê·¸ ëŒ€ì‹  Typography ì»´í¬ë„ŒíŠ¸
- **CSS ë³€ìˆ˜ í™œìš©**: í•˜ë“œì½”ë”© ìƒ‰ìƒ ê¸ˆì§€
- **PageContainer í•„ìˆ˜**: ëª¨ë“  í˜ì´ì§€ì— ì ìš©

### ë””ìì¸ ì‹œìŠ¤í…œ êµ¬í˜„ ê°€ì´ë“œ
1. **ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ**:
   - `src/components/ui/`: ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ (Button, Card, Typography ë“±)
   - `src/components/`: ë„ë©”ì¸ë³„ ì»´í¬ë„ŒíŠ¸
   - ìƒˆ ì»´í¬ë„ŒíŠ¸ ìƒì„± ì „ ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ í™•ì¸ í•„ìˆ˜

2. **ìƒ‰ìƒ ì‹œìŠ¤í…œ**:
   ```css
   /* CSS ë³€ìˆ˜ ì‚¬ìš© ì˜ˆì‹œ */
   --color-brand-primary-start
   --color-brand-primary-end
   --color-status-success
   --color-status-error
   --color-status-warning
   --color-status-info
   --color-text-primary
   --color-text-secondary
   ```
   - í•˜ë“œì½”ë”© ìƒ‰ìƒ ì‚¬ìš© ê¸ˆì§€
   - Tailwind í´ë˜ìŠ¤: `text-[var(--color-name)]`, `bg-[var(--color-name)]`

3. **Typography ì‹œìŠ¤í…œ**:
   - HTML íƒœê·¸ ì§ì ‘ ì‚¬ìš© ê¸ˆì§€
   - Typography ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©: `<Typography variant="h1">`, `<Typography variant="body1">`
   - variant: h1-h6, body1, body2, caption

4. **ë ˆì´ì•„ì›ƒ íŒ¨í„´**:
   - PageContainerë¡œ í˜ì´ì§€ ê°ì‹¸ê¸°
   - Card ì»´í¬ë„ŒíŠ¸ë¡œ ì„¹ì…˜ êµ¬ì„±
   - ì¼ê´€ëœ spacing ì‚¬ìš© (Tailwind ìœ í‹¸ë¦¬í‹°)

### ì»¤ë°‹ ê·œì¹™
```
type(scope): [Vë²„ì „ëª…] [íƒœìŠ¤í¬ID] ì„¤ëª…

ì˜ˆ: feat(dashboard): [V1.3.0_250910_REV001] [P1-02] ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
```

## ğŸ” ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ ì „ëµ (í•˜ì´ë¸Œë¦¬ë“œ)

### ê¸°ë³¸ ì›ì¹™
**Supabase RLSëŠ” ìµœì†Œí™”í•˜ê³  API Routesë¥¼ ì ê·¹ í™œìš©í•˜ëŠ” í•˜ì´ë¸Œë¦¬ë“œ ì „ëµ ì ìš©**

### ğŸ“— RLS ì§ì ‘ í˜¸ì¶œ (ë‹¨ìˆœ CRUD)
```typescript
// ê³µê°œ ë°ì´í„° ì¡°íšŒ
const { data } = await supabase
  .from('posts')
  .select('*')
  .eq('is_published', true);

// ê°œì¸ ë°ì´í„° (RLSê°€ ìë™ìœ¼ë¡œ user_id ì²´í¬)
const { data: myBookmarks } = await supabase
  .from('bookmarks')
  .select('*');
```

**ì‚¬ìš© ì¼€ì´ìŠ¤:**
- ë‹¨ìˆœ ë°ì´í„° ì¡°íšŒ (SELECT)
- ê°œì¸ ë°ì´í„° CRUD (user_id ê¸°ë°˜)
- ê³µê°œ ë°ì´í„° ì½ê¸°
- ì‹¤ì‹œê°„ êµ¬ë… (Realtime)

### ğŸ“˜ API Routes ì‚¬ìš© (ë³µì¡í•œ ë¡œì§)
```typescript
// ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ í•„ìš”í•œ ê²½ìš°
export async function POST(request) {
  // 1. ê¶Œí•œ ê²€ì¦
  // 2. ì—¬ëŸ¬ í…Œì´ë¸” ì—…ë°ì´íŠ¸
  // 3. ì™¸ë¶€ API í˜¸ì¶œ
  // 4. íŠ¸ëœì­ì…˜ ì²˜ë¦¬
}
```

**ì‚¬ìš© ì¼€ì´ìŠ¤:**
- ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- ë‹¤ì¤‘ í…Œì´ë¸” íŠ¸ëœì­ì…˜
- ì™¸ë¶€ API í†µí•©
- ë°ì´í„° ê²€ì¦ ë° ë³€í™˜
- ê¶Œí•œ ì²´í¬ê°€ ë³µì¡í•œ ê²½ìš°
- ë¡œê¹… ë° ê°ì‚¬ í•„ìš” ì‹œ

### êµ¬í˜„ ê°€ì´ë“œë¼ì¸
1. **ê¸°ë³¸ì ìœ¼ë¡œ API Routes ìš°ì„  ê³ ë ¤**
2. **ë‹¨ìˆœ CRUDë§Œ RLS ì§ì ‘ í˜¸ì¶œ**
3. **ë³´ì•ˆì´ ì¤‘ìš”í•œ ì‘ì—…ì€ ë°˜ë“œì‹œ API Routes**
4. **íŠ¸ëœì­ì…˜ì´ í•„ìš”í•œ ê²½ìš° API Routes í•„ìˆ˜**

## âš ï¸ ì¤‘ìš” ì›ì¹™

### ì‘ì—… ì›ì¹™
- âœ… ìš”ì²­ëœ ì‘ì—…ë§Œ ìˆ˜í–‰
- âœ… ê¸°ì¡´ íŒŒì¼ í¸ì§‘ ìš°ì„ 
- âœ… TASK ê¸°ë°˜ ìˆœì°¨ ì‘ì—…
- âŒ ë¶ˆí•„ìš”í•œ íŒŒì¼ ìƒì„± ê¸ˆì§€
- âŒ ë¬´ë‹¨ ì»´í¬ë„ŒíŠ¸ ìƒì„± ê¸ˆì§€
- âŒ ìë™ í‘¸ì‹œ ê¸ˆì§€ (ì»¤ë°‹ë§Œ ìˆ˜í–‰)

### í’ˆì§ˆ ë³´ì¦
- ê° íƒœìŠ¤í¬ ì™„ë£Œ í›„ E2E í…ŒìŠ¤íŠ¸ (Playwright MCP)
- E2E í…ŒìŠ¤íŠ¸ í†µê³¼ í›„ ë¹Œë“œ í…ŒìŠ¤íŠ¸
- TypeScript íƒ€ì… ì•ˆì „ì„± í™•ë³´
- ESLint ê·œì¹™ ì¤€ìˆ˜
- ì˜¤ë¥˜ ë°œê²¬ ì‹œ ì¦‰ì‹œ ìˆ˜ì • í›„ ì¬í…ŒìŠ¤íŠ¸

## ğŸ“š ì°¸ê³  ë¬¸ì„œ
- **í˜„ì¬ ì‘ì—… íƒœìŠ¤í¬**: [`docs/dashboard-widget-edit-mode-improvement-tasks.md`](./docs/dashboard-widget-edit-mode-improvement-tasks.md) âš ï¸ **ì´ ë¬¸ì„œì˜ íƒœìŠ¤í¬ë¥¼ ì§„í–‰ ì¤‘**
- **ì´ì „ ì‘ì—… íƒœìŠ¤í¬**: [`docs/dashboard-widget-improvement-tasks.md`](./docs/dashboard-widget-improvement-tasks.md) - ìœ„ì ¯ ì‹œìŠ¤í…œ ê°œì„  ì™„ë£Œ
- **êµ¬ íƒœìŠ¤í¬ ëª©ë¡ (ì™„ë£Œ)**: [`docs/dashboard-widget-tasks.md`](./docs/dashboard-widget-tasks.md) - Phase 1-6 ëª¨ë‘ ì™„ë£Œ
- **ì‹œìŠ¤í…œ ì„¤ê³„**: [`docs/dashboard-widget-system-design.md`](./docs/dashboard-widget-system-design.md)
- **ê¸°ìˆ  ìŠ¤íƒ**: Next.js 14, TypeScript, Tailwind CSS, @dnd-kit, Zustand